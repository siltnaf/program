C51 COMPILER V9.54   PROCESS                                                               11/01/2020 05:21:28 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE PROCESS
OBJECT MODULE PLACED IN process.obj
COMPILER INVOKED BY: c:\Keil_v5\C51\BIN\C51.EXE Public\src\process.c OMF2 ROM(COMPACT) OPTIMIZE(8,SPEED) BROWSE DEBUG PR
                    -INT(.\process.lst) TABS(2) OBJECT(process.obj)

line level    source

   1          
   2          #include "./public/inc/config.h"  
   3          #include "./public/inc/delay.h"  
   4          #include "./public/inc/init.h"
   5          #include "./public/inc/process.h"
   6          #include "STC15F104E.h"
   7          #include <intrins.h>
   8          
   9          
  10          
  11          
  12          void Process_Timer()
  13          {
  14   1      
  15   1        if (Timer_update==1)
  16   1        {
  17   2          
  18   2          Time_us++;    
  19   2          Timer_update=0; 
  20   2          if (Time_us>=4)
  21   2            {
  22   3              Time_us=0;
  23   3              Time_ms++;
  24   3            }
  25   2          
  26   2      
  27   2          if (Time_ms>=1000) 
  28   2            {
  29   3              
  30   3              Time_ms=0;
  31   3              Time_sec++;
  32   3            }
  33   2          if (Time_sec>=60)
  34   2            {
  35   3          
  36   3              Time_sec=0;
  37   3              Time_min++;
  38   3            }
  39   2           if (Time_min>=60)
  40   2            {
  41   3              Time_min=0;
  42   3            }
  43   2            
  44   2        } 
  45   1      
  46   1      
  47   1      }
  48          
  49          
  50          
  51          
  52          void Process_UV()
  53          {
  54   1        if (UV_on==1)
C51 COMPILER V9.54   PROCESS                                                               11/01/2020 05:21:28 PAGE 2   

  55   1        {
  56   2        
  57   2          if((Time_us%2)==0) UV=0;
  58   2             else UV=1;
  59   2        }
  60   1        else UV=0;;
  61   1      
  62   1      }
  63          
  64          void Process_ION()
  65          {
  66   1        
  67   1        if (ion_on==1) ION=1;else ION=0;
  68   1        
  69   1        
  70   1        
  71   1      }
  72          
  73           
  74          
  75          void Process_LED()
  76          {
  77   1      if (Beep==0)
  78   1      {
  79   2        switch (LED_type)
  80   2            {
  81   3              case 0:     
  82   3                
  83   3                          
  84   3                          SET_INPUT(IO_LED);
  85   3                          
  86   3                          break;
  87   3              case 1:     
  88   3                          SET_CMOS(IO_LED);
  89   3                          LED=0;
  90   3                          break;
  91   3              case 2:     
  92   3                          SET_CMOS(IO_LED);
  93   3                          LED=1;
  94   3                          break;
  95   3              case 3:     
  96   3                           
  97   3                          if (Time_ms<500==0) 
  98   3                          {
  99   4                            SET_CMOS(IO_LED);
 100   4                            LED=1;
 101   4                          }
 102   3                          else 
 103   3                          {
 104   4                            SET_INPUT(IO_LED);
 105   4                          }
 106   3                          break;
 107   3            
 108   3                          
 109   3            } 
 110   2      }
 111   1      }
 112          
 113          
 114           
 115          
 116          
C51 COMPILER V9.54   PROCESS                                                               11/01/2020 05:21:28 PAGE 3   

 117          void Process_sleep()
 118            
 119          {
 120   1      
 121   1        
 122   1        if ((Time_min>=time_1min) && (state==standby_mode))
 123   1        {
 124   2          
 125   2          UV=0;
 126   2          ION=0;
 127   2          SET_INPUT(IO_LED);
 128   2          VCC_EN=1;
 129   2          switch_state=0;
 130   2          PCON|=0x02;
 131   2          _nop_ ();
 132   2          
 133   2          
 134   2          _nop_ ();
 135   2          _nop_ ();
 136   2          _nop_ ();
 137   2          _nop_ ();
 138   2          _nop_ ();
 139   2          _nop_ ();
 140   2          _nop_ ();
 141   2          _nop_ ();
 142   2          _nop_ ();
 143   2          _nop_ ();
 144   2          
 145   2          
 146   2        
 147   2        
 148   2      //  
 149   2      
 150   2          
 151   2        }
 152   1        
 153   1        
 154   1      }
 155          
 156          
 157          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    243    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
